<!-- broker_list.html -->
{% extends 'layout.html' %}

{% block home %}
<!-- Broker List Page Content -->

 <!-- Carousel Start -->
        <div class="container-fluid p-0">
            <div class="owl-carousel header-carousel position-relative">
                <div class="owl-carousel-item position-relative">
                    <!-- <img class="img-fluid img-fluids" src="./img/carousel-1.jpg" alt=""> -->
                    <img class="img-fluid img-fluids"  src="{{ url_for('static', filename='img/carousel-1.jpg') }}" alt="">

                    <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(4, 57, 64, .5);">
                        <div class="container">
                            <div class="row justify-content-start">
                                <div class="col-10 col-lg-8">
                                    <h1 class="display-3 text-white animated slideInDown mb-4">Search</h1>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="owl-carousel-item position-relative">
                    <!-- <img class="img-fluid" src="img/carousel-2.jpg" alt=""> -->
                    <img class="img-fluid img-fluids"  src="{{ url_for('static', filename='img/carousel-2.jpg') }}" alt="">

                    <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(43, 57, 64, .5);">
                        <div class="container">
                            <div class="row justify-content-start">
                                <div class="col-10 col-lg-8">
                                    <h1 class="display-3 text-white animated slideInDown mb-4">Search</h1>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Carousel End -->
    <h1>Search</h1>




    <form method="POST">
<div class="container-fluid bg-primary mb-5 wow fadeIn" data-wow-delay="0.1s" style="padding: 35px;">
    <div class="container">
        <div class="row g-2">
            <div class="col-md-10">
                <div class="row g-2">

        {{ form.hidden_tag() }}
        <div class="col-md-4">
        <label for="categories">Categories:</label>
        {{ form.categories(class="form-select border-0") }}
        </div>

        <div class="col-md-4">
        <label for="min_price">Minimum Price:</label>
        {{ form.min_price(class="form-control border-0") }}
        </div>

        <div class="col-md-4">
        <label for="max_price">Maximum Price:</label>
        {{ form.max_price(class="form-control border-0") }}
        </div>

        <div class="col-md-4">
        <label for="city">City:</label>
        {{ form.city(class="form-select border-0") }}
        </div>

        <div class="col-md-4">
            <label for="sub_City">sub_City:</label>
            {{ form.sub_City(class="form-select border-0") }}
        </div>
    </div>
    </div>
            <div class="col-md-10 button">
            {{ form.submit(class="button btn btn-dark border-0 w-100") }}
            </div>
        </div>
    </div>
</div>
    </form>

        {% if results %}
    <div class="container">
    <h1 class="text-center mb-5 wow fadeInUp" data-wow-delay="0.1s">Search Results</h1>

    <div class="row">


                {% for item in results %}
        <div class="col-lg-4 col-md-6 col-sm-12">
            <div class="product">
                <a href="/post/{{ item['id'] }}">
                    <div class="product-image">
                        <img src="{{ url_for('static', filename='uploads/' + item.image_filename) }}" alt="Listing Image">
                    </div>
                    <div class="product-details">
                       <h3>{{ item.catagories }}</h3>
                       <h3> Price: ${{ item.price }}</h3>
                       <h5> City {{ item.city }})</h3>
                       </div>
                </a>
            </div>
        </div>
                {% endfor %}

         </div>
</div>

        {% endif %}
{% endblock %}